namespace SpriteKind {
    export const cloud = SpriteKind.create()
    export const landingpad = SpriteKind.create()
    export const plant = SpriteKind.create()
    export const bomb = SpriteKind.create()
    export const BossType = SpriteKind.create()
    export const bomb2 = SpriteKind.create()
}
sprites.onOverlap(SpriteKind.Projectile, SpriteKind.BossType, function (sprite, otherSprite) {
    sprite.destroy()
    statusbar.value += -5
})
sprites.onOverlap(SpriteKind.Player, SpriteKind.BossType, function (sprite, otherSprite) {
    Boss.destroy(effects.ashes, 500)
    shark.destroy(effects.ashes, 500)
    info.setLife(0)
    game.over(false)
})
controller.A.onEvent(ControllerButtonEvent.Pressed, function () {
    if (level == 3) {
        if (shots < 1) {
            if (info.score() != 0) {
                if (direction == 0) {
                    projectile = sprites.createProjectileFromSprite(img`
                        . . . . c c c c . . . . . . . . 
                        . . . c d d d d c c . . . . . . 
                        . . . c d c c c c c c . . . . . 
                        c c . c c d 4 4 4 4 c c . . . . 
                        c 4 c c 1 4 4 4 4 4 d 4 c . . . 
                        f 4 c 1 d 4 4 4 4 1 4 4 4 c . . 
                        f 4 4 1 4 4 4 4 4 1 4 4 4 4 c . 
                        f 4 f 1 4 4 f c 1 1 4 4 4 4 4 f 
                        f 4 f 1 4 4 f 4 c 1 4 f 4 4 4 f 
                        f f f d 4 4 f 4 4 1 4 4 4 4 4 f 
                        . . f f d 4 4 c c 1 4 4 4 4 f . 
                        . . . f c 4 4 4 4 4 d 4 f f . . 
                        . . c b d c 4 4 4 4 f f . . . . 
                        . . c d d d f f f f . . . . . . 
                        . . . c c c . . . . . . . . . . 
                        . . . . . . . . . . . . . . . . 
                        `, shark, 100, 0)
                    info.changeScoreBy(-1)
                } else {
                    projectile = sprites.createProjectileFromSprite(img`
                        . . . . . . . . c c c c . . . . 
                        . . . . . . c c d d d d c . . . 
                        . . . . . c c c c c c d c . . . 
                        . . . . c c 4 4 4 4 d c c . c c 
                        . . . c 4 d 4 4 4 4 4 1 c c 4 c 
                        . . c 4 4 4 1 4 4 4 4 d 1 c 4 f 
                        . c 4 4 4 4 1 4 4 4 4 4 1 4 4 f 
                        f 4 4 4 4 4 1 1 c f 4 4 1 f 4 f 
                        f 4 4 4 f 4 1 c 4 f 4 4 1 f 4 f 
                        f 4 4 4 4 4 1 4 4 f 4 4 d f f f 
                        . f 4 4 4 4 1 c c 4 4 d f f . . 
                        . . f f 4 d 4 4 4 4 4 c f . . . 
                        . . . . f f 4 4 4 4 c d b c . . 
                        . . . . . . f f f f d d d c . . 
                        . . . . . . . . . . c c c . . . 
                        . . . . . . . . . . . . . . . . 
                        `, shark, -100, 0)
                    info.changeScoreBy(-1)
                }
                shots += 1
            }
        }
    }
})
controller.left.onEvent(ControllerButtonEvent.Pressed, function () {
    shark.setImage(img`
        .............ccfff..............
        ............cddbbf..............
        ...........cddbbf...............
        ..........fccbbcf............ccc
        ....ffffffccccccff.........ccbbc
        ..ffbbbbbbbbbbbbbcfff.....cdbbc.
        ffbbbbbbbbbcbcbbbbcccff..cddbbf.
        fbcbbbbbffbbcbcbbbcccccfffdbbf..
        fbbb1111ff1bcbcbbbcccccccbbbcf..
        .fb11111111bbbbbbcccccccccbccf..
        ..fccc33cc11bbbbccccccccfffbbcf.
        ...fc131c111bbbcccccbdbc...fbbf.
        ....f33c111cbbbfdddddcc.....fbbf
        .....ff1111fbdbbfddcc........fff
        .......cccccfbdbbfc.............
        .............fffff..............
        `)
    direction = 1
})
function clearScreen () {
    fish.destroy()
    seamine.destroy()
}
info.onCountdownEnd(function () {
    if (level == 1) {
        shark.setPosition(scene.screenWidth() / 2, scene.screenHeight() / 2)
        game.splash("Level 2:")
        info.startCountdown(30)
        level += 1
        clearScreen()
        velocity1 = -120
        velocity2 = 120
    } else {
        level += 1
        clearScreen()
        game.splash("level 3: Boss")
        game.splash("You can now shoot the fish you've eaten with the \"A\" button!")
        shark.setPosition(scene.screenWidth() / 4, scene.screenHeight() / 2)
        Boss = sprites.create(img`
            .......fffffffffff.......
            ......fffffffffffff......
            ....fffffffffffffffff....
            ...2fffffffffffffffff2...
            ..ff2fffffffffffffff2ff..
            ..fff2fffffffffffff2fff..
            .fffff2fffffffffff2fffff.
            fffffff2fffffffff2fffffff
            ffffffff2fffffff2ffffffff
            fffffffff2fffff2fffffffff
            ffffffffff2fff2ffffffffff
            fffffffffff2f2fffffffffff
            ffffffffffff2ffffffffffff
            fffffffffff2f2fffffffffff
            ffffffffff2fff2ffffffffff
            fffffffff2fffff2fffffffff
            ffffffff2fffffff2ffffffff
            fffffff2fffffffff2fffffff
            .fffff2fffffffffff2fffff.
            ..fff2fffffffffffff2fff..
            ..ff2fffffffffffffff2ff..
            ...2fffffffffffffffff2...
            ....fffffffffffffffff....
            ......fffffffffffff......
            .......fffffffffff.......
            `, SpriteKind.BossType)
        Boss.setPosition(170, scene.screenHeight() / 2)
        Boss.vx = -5
        statusbar = statusbars.create(20, 4, StatusBarKind.Health)
        statusbar.attachToSprite(Boss)
        statusbar.setColor(7, 2)
        statusbar.value = 100
    }
})
statusbars.onZero(StatusBarKind.Health, function (status) {
    Boss.destroy(effects.ashes, 500)
    game.over(true)
})
controller.right.onEvent(ControllerButtonEvent.Pressed, function () {
    direction = 0
    shark.setImage(img`
        ..............fffcc.............
        ..............fbbddc............
        ...............fbbddc...........
        ccc............fcbbccf..........
        cbbcc.........ffccccccffffff....
        .cbbdc.....fffcbbbbbbbbbbbbbff..
        .fbbddc..ffcccbbbbcbcbbbbbbbbbff
        ..fbbdfffcccccbbbcbcbbffbbbbbcbf
        ..fcbbbcccccccbbbcbcb1ff1111bbbf
        ..fccbcccccccccbbbbbb11111111bf.
        .fcbbfffccccccccbbbb11cc33cccf..
        .fbbf...cbdbcccccbbb111c131cf...
        fbbf.....ccdddddfbbbc111c33f....
        fff........ccddfbbdbf1111ff.....
        .............cfbbdbfccccc.......
        ..............fffff.............
        `)
})
info.onLifeZero(function () {
    shark.setVelocity(0, 0)
    seamine.setVelocity(0, 0)
    pause(100)
    if (direction == 1) {
        animation.runImageAnimation(
        shark,
        [img`
            .............ccfff..............
            ............cddbbf..............
            ...........cddbbf...............
            ..........fccbbcf............ccc
            ....ffffffccccccff.........ccbbc
            ..ffbbbbbbbbbbbbbcfff.....cdbbc.
            ffbbbbbbbbbcbcbbbbcccff..cddbbf.
            fbcbbbbb22bbcbcbbbcccccfffdbbf..
            fbbb1111221bcbcbbbcccccccbbbcf..
            .fb11111111bbbbbbcccccccccbccf..
            ..fccccccc11bbbbccccccccfffbbcf.
            ...fc131c111bbbcccccbdbc...fbbf.
            ....f33c111cbbbfdddddcc.....fbbf
            ....33f1111fbdbbfddcc........fff
            ....3..cccccfbdbbfc.............
            .............fffff..............
            ................................
            ................................
            `],
        25,
        false
        )
    } else {
        animation.runImageAnimation(
        shark,
        [img`
            ..............fffcc.............
            ..............fbbddc............
            ...............fbbddc...........
            ccc............fcbbccf..........
            cbbcc.........ffccccccffffff....
            .cbbdc.....fffcbbbbbbbbbbbbbff..
            .fbbddc..ffcccbbbbcbcbbbbbbbbbff
            ..fbbdfffcccccbbbcbcbb22bbbbbcbf
            ..fcbbbcccccccbbbcbcb1221111bbbf
            ..fccbcccccccccbbbbbb11111111bf.
            .fcbbfffccccccccbbbb11cccccccf..
            .fbbf...cbdbcccccbbb111c131cf...
            fbbf.....ccdddddfbbbc111c33f....
            fff........ccddfbbdbf1111f33....
            .............cfbbdbfccccc..3....
            ..............fffff.............
            ................................
            ................................
            `],
        25,
        false
        )
    }
    animation.runImageAnimation(
    seamine,
    [img`
        . . . f . . . . 2 . . . 
        . . . . f f f . . . . . 
        2 2 . f f f f f . . . f 
        . . f 2 f f f 2 f . . . 
        . f f f 2 f 2 f f f . . 
        . f f f f 2 f f f f . . 
        . f f f 2 f 2 f f f . f 
        . . f 2 f f f 2 f . . . 
        2 . . f f f f f . . . . 
        . . . . f f f . . . . . 
        . . . . . . . . . 2 . . 
        . . f . . . . . . . . . 
        `,img`
        . . . f . . . . 2 . . . 
        . . . . f . . . . f . . 
        2 2 . f f f f . f . 2 f 
        f . . 2 f f f . . . . . 
        . . f f 2 f 2 f f . . . 
        . f f f f 2 f f f . . . 
        . . f f 2 f 2 f f f . f 
        . . f 2 f f f 2 f . . . 
        2 . . f f f f f . . . . 
        . 2 . . . . f . . . 2 . 
        f . . f . . . . . 2 . . 
        . . f . . f . . f . . . 
        `],
    50,
    false
    )
    pause(100)
    game.over(false)
})
statusbars.onStatusReached(StatusBarKind.Health, statusbars.StatusComparison.LT, statusbars.ComparisonType.Percentage, 75, function (status) {
    scene.cameraShake(4, 200)
    projectilecount = true
})
sprites.onOverlap(SpriteKind.Player, SpriteKind.Food, function (sprite, otherSprite) {
    fish.setVelocity(0, 0)
    info.changeScoreBy(1)
    otherSprite.destroy(effects.ashes, 10)
    if (direction == 1) {
        animation.runImageAnimation(
        shark,
        [img`
            .............ccfff..................
            ............cddbbf..................
            ...........cddbbf...................
            ..........fccbbcf............ccc....
            ....ffffffccccccff.........ccbbc....
            ..ffbbbbbbbbbbbbbcfff.....cdbbc.....
            ffbbbbbbbbbcbcbbbbcccff..cddbbf.....
            fbcbbbbbffbbcbcbbbcccccfffdbbf......
            fbbb1111ff1bcbcbbbcccccccbbbcf......
            .fb11111111bbbbbbcccccccccbccf......
            ..fccc33cc11bbbbccccccccfffbbcf.....
            ...fc131c111bbbcccccbdbc...fbbf.....
            ....f33c111cbbbfdddddcc.....fbbf....
            .....ff1111fbdbbfddcc........fff....
            .......cccccfbdbbfc.................
            .............fffff..................
            `,img`
            .............ccfff..................
            ............cddbbf..................
            ...........cddbbf...................
            .....ffffffccbbcf...................
            ..fffbbbbbbbbcccff..................
            .fbbbbbbbbbbbbbbbcfff......ccccc....
            .bcbbbbbffbcbcbbbbcccff...cdbbbc....
            fbbb1111ffbbcbcbbbcccccffcddbbc.....
            .fb11111111bcbcbbbcccccccbdbbf......
            ..fccc33c11bbbbbbcccccccccbbcf......
            ...fc131cc11bbbbccccccccffbccf......
            ....f33c1111bbbcccccbdbc..fbbcf.....
            .....ff1111cbbbfdddddcc....fbbf.....
            .......ccc1fbdbbfddcc.......fbbf....
            ..........ccfbdbbfc..........fff....
            .............fffff..................
            `,img`
            ...........ccfff....................
            ..........cddbbf....................
            .fffffffffddbbf.....................
            fbbbbbbbbbfcbcf.....................
            fbbc111bffbbccffff..................
            fb111111ffbbbbbcccff....ccccc.......
            .f1cc3311bbcbcbbccccf..cdbbbc.......
            .fcc131c1bbbcbcbcccccfcddbbc........
            ..f111111bbbcbcbccccccbdbbf.........
            ..f1111111bbbbbccccccccbbcf.........
            ...f111111bbbbcccccccffbccf.........
            ....c1111cbbbcccccbdbc.fbbcf........
            .....cc11cbbbfddddddc...fbbf........
            .......cffbdbbfdddcc.....fbbf.......
            ..........fbdbbfcc........fff.......
            ...........fffff....................
            `,img`
            ...........ccfff....................
            .fffffffffcbbbbf....................
            fbbbbbbbbbfffbf.....................
            fbb111bffbbbbff.....................
            fb11111ffbbbbbcff...................
            f1cccc11bbcbcbcccf..................
            .fc1c1c1bbbcbcbcccf...ccccc.........
            ...c3331bbbcbcbccccfccddbbc.........
            ..c333c1bbbbbbbcccccbddbcc..........
            ..c331c11bbbbbcccccccbbcc...........
            .cc13c111bbbbccccccffbccf...........
            .c111111cbbbcccccbbc.fccf...........
            ..cc1111cbbbfdddddc..fbbcf..........
            ....cccffbdbbfdddc....fbbf..........
            .........fbdbbfcc......fbbf.........
            ..........fffff.........fff.........
            `,img`
            .fffffff...ccfff....................
            fbbbbbbbffcbbbbf....................
            fbb111bbbbbffbf.....................
            fb11111ffbbbbff.....................
            f1cccc1ffbbbbbcff...................
            ffc1c1c1bbcbcbcccf..................
            .fcc3331bbbcbcbcccf..ccccc..........
            ..c333c1bbbcbcbccccfcddbbc..........
            ..c333c1bbbbbbbcccccddbcc...........
            ..c333c11bbbbbccccccbbcc............
            .cc331c11bbbbccccccfbccf............
            .cc13c11cbbbcccccbbcfccf............
            .c111111cbbbfdddddc.fbbcf...........
            ..cc1111fbdbbfdddc...fbbf...........
            ....cccfffbdbbfcc.....fbbf..........
            ..........fffff........fff..........
            `,img`
            ....................................
            ....................................
            ....................................
            ..............ccffff................
            .............cddbbbf................
            ......ffffffcddbbbf.................
            ....ffbbbbbbbbbbbbbcfff.......ccccc.
            ..ffbbbbbbbbcbcbbbbbcccff....cdbbbc.
            .fbbbbbbbbbbcbbcbbbbcccccfffcddbbc..
            fbcbbbbbbbbbbcbcbbbbccccccccbdbbf...
            fbbbbbbbfffbbcbbbbbccccccccccbbcf...
            ffbb1111fffbbcbbbbcccccccbcffbccf...
            .ff111111111bbbbccccccbbbcc..fbbcf..
            ...ccccccc111bdbbbfddbccc.....ffbbf.
            .......ccccccfbdbbbfcc..........fff.
            ..............ffffff................
            `,img`
            .............ccfff..................
            ............cddbbf..................
            ...........cddbbf...................
            ..........fccbbcf............ccc....
            ....ffffffccccccff.........ccbbc....
            ..ffbbbbbbbbbbbbbcfff.....cdbbc.....
            ffbbbbbbbbbcbcbbbbcccff..cddbbf.....
            fbcbbbbbffbbcbcbbbcccccfffdbbf......
            fbbb1111ff1bcbcbbbcccccccbbbcf......
            .fb11111111bbbbbbcccccccccbccf......
            ..fccc33cc11bbbbccccccccfffbbcf.....
            ...fc131c111bbbcccccbdbc...fbbf.....
            ....f33c111cbbbfdddddcc.....fbbf....
            .....ff1111fbdbbfddcc........fff....
            .......cccccfbdbbfc.................
            .............fffff..................
            `],
        25,
        false
        )
    } else {
        animation.runImageAnimation(
        shark,
        [img`
            ..............fffcc.............
            ..............fbbddc............
            ...............fbbddc...........
            ccc............fcbbccf..........
            cbbcc.........ffccccccffffff....
            .cbbdc.....fffcbbbbbbbbbbbbbff..
            .fbbddc..ffcccbbbbcbcbbbbbbbbbff
            ..fbbdfffcccccbbbcbcbbffbbbbbcbf
            ..fcbbbcccccccbbbcbcb1ff1111bbbf
            ..fccbcccccccccbbbbbb11111111bf.
            .fcbbfffccccccccbbbb11cc33cccf..
            .fbbf...cbdbcccccbbb111c131cf...
            fbbf.....ccdddddfbbbc111c33f....
            fff........ccddfbbdbf1111ff.....
            .............cfbbdbfccccc.......
            ..............fffff.............
            ................................
            ................................
            `,img`
            ..............fffcc.............
            ..............fbbddc............
            ...............fbbddc...........
            ...............fcbbccffffff.....
            ..............ffcccbbbbbbbbfff..
            ccccc......fffcbbbbbbbbbbbbbbbf.
            cbbbdc...ffcccbbbbcbcbffbbbbbcbf
            .cbbddcffcccccbbbcbcbbff1111bbbf
            ..fbbdbcccccccbbbcbcb11111111bf.
            ..fcbbcccccccccbbbbbb11c33cccf..
            ..fccbffccccccccbbbb11cc131cf...
            .fcbbf..cbdbcccccbbb1111c33f....
            .fbbf....ccdddddfbbbc1111ff.....
            fbbf.......ccddfbbdbf1ccc.......
            fff..........cfbbdbfcc..........
            ..............fffff.............
            ................................
            ................................
            `,img`
            .............fffcc..............
            .............fbbddc.............
            ..............fbbddfffffffff....
            ..............fcbcfbbbbbbbbbf...
            ...........ffffccbbffb111cbbf...
            ccccc....ffcccbbbbbff111111bf...
            cbbbdc..fccccbbcbcbb1133cc1f....
            .cbbddcfcccccbcbcbbb1c131ccf....
            ..fbbdbccccccbcbcbbb111111f.....
            ..fcbbccccccccbbbbb1111111f.....
            ..fccbffcccccccbbbb111111f......
            .fcbbf.cbdbcccccbbbc1111c.......
            .fbbf...cddddddfbbbc11cc........
            fbbf.....ccdddfbbdbffc..........
            fff........ccfbbdbf.............
            .............fffff..............
            ................................
            ................................
            `,img`
            ...........fffcc................
            ...........fbbbbcfffffffff......
            ............fbfffbbbbbbbbbf.....
            ............ffbbbbffb111bbf.....
            ..........ffcbbbbbff11111bf.....
            .........fcccbcbcbb11cccc1f.....
            ccccc...fcccbcbcbbb1c1c1cf......
            cbbddccfccccbcbcbbb1333c........
            .ccbddbcccccbbbbbbb1c333c.......
            ..ccbbcccccccbbbbb11c133c.......
            ..fccbffccccccbbbb111c31cc......
            ..fccf.cbbcccccbbbc111111c......
            .fcbbf..cdddddfbbbc1111cc.......
            .fbbf....cdddfbbdbffccc.........
            fbbf......ccfbbdbf..............
            fff.........fffff...............
            ................................
            ................................
            `,img`
            ..........fffcc...fffffff.......
            ..........fbbbbcffbbbbbbbf......
            ...........fbffbbbbb111bbf......
            ...........ffbbbbff11111bf......
            .........ffcbbbbbff1cccc1f......
            ........fcccbcbcbb1c1c1cff......
            ccccc..fcccbcbcbbb1333ccf.......
            cbbddcfccccbcbcbbb1c333c........
            .ccbddcccccbbbbbbb1c333c........
            ..ccbbccccccbbbbb11c333c........
            ..fccbfccccccbbbb11c133cc.......
            ..fccfcbbcccccbbbc11c31cc.......
            .fcbbf.cdddddfbbbc111111c.......
            .fbbf...cdddfbbdbf1111cc........
            fbbf.....ccfbbdbfffccc..........
            fff........fffff................
            ................................
            ................................
            `,img`
            ................................
            ................................
            ................................
            ...............ffffcc...........
            ...............fbbbddc..........
            ................fbbbddcffffff...
            ccccc.......fffcbbbbbbbbbbbbbff.
            cbbbdc....ffcccbbbbbcbcbbbbbbbbf
            .cbbddcfffcccccbbbbcbbcbbbbbbbbb
            ..fbbdbccccccccbbbbcbcbbbbbbbbbb
            ..fcbbccccccccccbbbbbcbbfffbbbbb
            ..fccbffcbcccccccbbbbcbbfff1111b
            .fcbbf..ccbbbccccccbbbb111111111
            fbbff.....cccbddfbbbdb111ccccccc
            fff..........ccfbbbdbfcccccc....
            ...............ffffff...........
            ................................
            ................................
            `,img`
            ..............fffcc.............
            ..............fbbddc............
            ...............fbbddc...........
            ccc............fcbbccf..........
            cbbcc.........ffccccccffffff....
            .cbbdc.....fffcbbbbbbbbbbbbbff..
            .fbbddc..ffcccbbbbcbcbbbbbbbbbff
            ..fbbdfffcccccbbbcbcbbffbbbbbcbf
            ..fcbbbcccccccbbbcbcb1ff1111bbbf
            ..fccbcccccccccbbbbbb11111111bf.
            .fcbbfffccccccccbbbb11cc33cccf..
            .fbbf...cbdbcccccbbb111c131cf...
            fbbf.....ccdddddfbbbc111c33f....
            fff........ccddfbbdbf1111ff.....
            .............cfbbdbfccccc.......
            ..............fffff.............
            ................................
            ................................
            `],
        25,
        false
        )
    }
    if (randint(1, 2) == 1) {
        shark.say("Yummy!", 300)
    } else {
        if (randint(1, 2) == 1) {
            shark.say("Tasty!", 300)
        } else {
            shark.say("MMMmmm", 300)
        }
    }
})
sprites.onOverlap(SpriteKind.Player, SpriteKind.bomb2, function (sprite, otherSprite) {
    info.changeLifeBy(-1)
    otherSprite.destroy(effects.fire, 100)
    scene.cameraShake(4, 200)
})
sprites.onOverlap(SpriteKind.Player, SpriteKind.Enemy, function (sprite, otherSprite) {
    info.changeLifeBy(-1)
    seamine.destroy(effects.fire, 100)
    scene.cameraShake(4, 200)
})
let projectile2: Sprite = null
let velocity2 = 0
let velocity1 = 0
let seamine: Sprite = null
let fish: Sprite = null
let projectile: Sprite = null
let direction = 0
let shots = 0
let Boss: Sprite = null
let statusbar: StatusBarSprite = null
let projectilecount = false
let level = 0
let shark: Sprite = null
game.splash("Eat as many fish as possible.")
game.splash("Use the arrow keys to move.")
game.splash("Level 1:")
info.startCountdown(25)
info.setScore(0)
let seaweed = sprites.create(img`
    ..........................................................................................................................................................................
    ..........................................................................................................................................................................
    ..........................................................................................................................................................................
    ..........................................................................................................................................................................
    ..........................................................................................................................................................................
    ..........................................................................................................................................................................
    ..........................................................................................................................................................................
    ..........................................................................................................................................................................
    ..........................................................................................................................................................................
    ..........................................................................................................................................................................
    ..........................................................................................................................................................................
    ..........................................................................................................................................................................
    ..........................................................................................................................................................................
    ..........................................................................................................................................................................
    ..........................................................................................................................................................................
    ..........................................................................................................................................................................
    ..........................................................................................................................................................................
    ..........................................................................................................................................................................
    ..........................................................................................................................................................................
    ..........................................................................................................................................................................
    ..........................................................................................................................................................................
    ..........................................................................................................................................................................
    ..........................................................................................................................................................................
    ..........................................................................................................................................................................
    ..........................................................................................................................................................................
    ..........................................................................................................................................................................
    ..........................................................................................................................................................................
    ..........................................................................................................................................................................
    ..........................................................................................................................................................................
    ..........................................................................................................................................................................
    ..........................................................................................................................................................................
    ..........................................................................................................................................................................
    ..........................................................................................................................................................................
    ..........................................................................................................................................................................
    ..........................................................................................................................................................................
    ..........................................................................................................................................................................
    ..........................................................................................................................................................................
    ..........................................................................................................................................................................
    ..........................................................................................................................................................................
    ..........................................................................................................................................................................
    ..........................................................................................................................................................................
    ..........................................................................................................................................................................
    ..........................................................................................................................................................................
    ..........................................................................................................................................................................
    ..........................................................................................................................................................................
    ..........................................................................................................................................................................
    ..........................................................................................................................................................................
    ..........................................................................................................................................................................
    ..........................................................................................................................................................................
    ..........................................................................................................................................................................
    ..........................................................................................................................................................................
    ..........................................................................................................................................................................
    ..........................................................................................................................................................................
    ..........................................................................................................................................................................
    ..........................................................................................................................................................................
    ..........................................................................................................................................................................
    ..........................................................................................................................................................................
    ..........................................................................................................................................................................
    ..........................................................................................................................................................................
    ..........................................................................................................................................................................
    ..........................................................................................................................................................................
    ..........................................................................................................................................................................
    ..........................................................................................................................................................................
    ..........................................................................................................................................................................
    ..........................................................................................................................................................................
    ..........................................................................................................................................................................
    ..........................................................................................................................................................................
    ..........................................................................................................................................................................
    ..........................................................................................................................................................................
    ..........................................................................................................................................................................
    ..........................................................................................................................................................................
    ..........................................................................................................................................................................
    ..........................................................................................................................................................................
    ..........................................................................................................................................................................
    ..........................................................................................................................................................................
    ..........................................................................................................................................................................
    .......................................................................................................................................................................888
    ........................................................................................................................................................................86
    66..878................................................................................................................................................................878
    8668778................................................................................................................................................................877
    .88778..................................................................................................................................................................87
    .8778....................................................................................................................................................................8
    .878.86................................................................................................................................................................68.
    .878.866..............................................................................................................................................................668.
    ..868.88..............................................................................................................................................................88.8
    ...868..................................................................................................................................................................86
    ....878................................................................................................................................................................878
    ...6778................................................................................................................................................................877
    ..6778..................................................................................................................................................................87
    .6778.....878.668............................................................................................................................................866.878.....8
    .878..68...86888................................................................................................................6.............................88868...86..
    .878.668....868........................86..878..............................................................86..878.............878..68........................868....866.
    ..86888..66..878.......................866.878.............878.668................................6.........866.878.............878.668.......................878..66..888
    ...868...8668778........................88868...............86888....86..878............86..878...878..68....88868...............86888........................8778668...86
    66..878...88778..........................868.................868.....866.878............866.878...878.668.....868.................868..........................87788...878
    8668778...8778..............86..878.....878..66...........66..878.....88868..............88868.....86888.....878..66........6..66..878.....878..68..............8778...877
    .88778....878.868...........866.878.....8778668...........8668778......868................868.......868......8778668..86..878..8668778.....878.668...........868.878....87
    .8778.....878.866............88868.......87788...878.668...88778......878..66..6778......878..66.66..878......87788...866.878...88778.......86888............668.878.....8
    .878.86....868888.............868.........8778....86888....8778.......8778668..878..68...8778668.8668778.......8778....88868....8778.........868.............888868....68.
    .878.866....868....878..68...878..66....68.878.....868.....878.86......87788...878.668....87788...88778......68.878.....868.....878.86....66..878...86..878....868....668.
    ..868.88.66..878...878.668...8778668...668.878..66..878....878.866......8778....86888......8778...8778......668.878....878..66..878.866...8668778...866.878...878..66.88.8
    ...868...8666778....86888.....87788....88.868...8668778.....868.88....68.878.....868....868.878...878.86....88.868.....8778668...868.88....88778.....88868....8776668...86
    ....878...88778......868.......8778......868.....88778.......868.....668.878..66..878...668.878...878.866.....868.......87788.....868......8778.......868......87788...878
    ...6778...8778....66..878....68.878.....878......8778.........878....88.868...8668778...888868.....868.88....878.........8778......878.....878.86....878..66....8778...877
    ..6778....878.86..8668778...668.878.....8776.....878.86......6778......868.....88778......868.......868......8776......68.878.....6778.....878.866...8778668..68.878....87
    .6778.....878.866..88778....88.868.......8776....878.866....6778......878......8778......878..66.....878......8776....668.878....6778.......868.88....87788..668.878.....8
    .878..68...868.88..8778.......868.........8776....868.88...6778.......8776.....878.868...8776668....6778.......8776...88.868....6778.........868.......8778..88.868...86..
    .878.668....868....878.86....878.......86..878.....868.....878..68.....8776....878.866....87768....6778.....86..878.....868.....878..68.......878....68.878....868....866.
    ..86888......878...878.866...8776......866.878......878....878.668......8776....868888.....8776...6778......866.878....878......878.668......6778...668.878...878......888
    ...868......6778....868.88....8776......88868......6778.....86888....86..878.....868....868.878...878..68....88868.....8776......86888......6778....88.868....8776......86
    66..878....6778......868.......8776......868......6778.......868.....866.878..66..878...866.878...878.668.....868.......8776......868......6778.......868......8776....878
    8668778...6778........878...86..878.....878..66..6778.....66..878.....88868...8666778...88.868.....86888.....878..66.....8776..66..878.....878..68...878........8776...877
    .88778....878..68....6778...866.878.....8778668..878..68..8668778......868.....86778......868.......868......8778668..86..878..8668778.....878.668...8776....86..878....87
    .8778.....878.668...6778.....88868.......87788...878.668...88778......878..66..6778......878.....66..878......87788...866.878...88778.......86888.....8776...866.878.....8
    .878.86....86888...6778.......868.........8778....86888....8778.......8778668..878.868...8776....8668778.......8778....88868....8778.........868.......8776...88868....68.
    .878.866....868....878..68...878..66....68.878.....868.....878.86......87788...878.668....8776....88778......68.878.....868.....878.86....66..878...86..878....868....668.
    ..868.88.66..878...878.668...8778668...668.878..66..878....878.866......8778....868.88.....8776...8778......668.878....878..66..878.866...8668778...866.878...878..66.88.8
    ddddddd..8668778....86888.....87788....88.868...8668778.....868.88....68.878.....868....86..878...878.86....88.868.....8778668...868.88....88778.....88868....8778668ddddd
    ddddddddddddddddd..ddddddd....dddddd....ddddd..ddddddddd...dddddddddddddddddd....dddd...dddddddd..ddddddd....ddddd....ddddddddd...dddd....dddddd....dddddd...ddddddddddddd
    dddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddd
    `, SpriteKind.plant)
scene.setBackgroundColor(8)
shark = sprites.create(img`
    .............ccfff..............
    ............cddbbf..............
    ...........cddbbf...............
    ..........fccbbcf............ccc
    ....ffffffccccccff.........ccbbc
    ..ffbbbbbbbbbbbbbcfff.....cdbbc.
    ffbbbbbbbbbcbcbbbbcccff..cddbbf.
    fbcbbbbbffbbcbcbbbcccccfffdbbf..
    fbbb1111ff1bcbcbbbcccccccbbbcf..
    .fb11111111bbbbbbcccccccccbccf..
    ..fccc33cc11bbbbccccccccfffbbcf.
    ...fc131c111bbbcccccbdbc...fbbf.
    ....f33c111cbbbfdddddcc.....fbbf
    .....ff1111fbdbbfddcc........fff
    .......cccccfbdbbfc.............
    .............fffff..............
    `, SpriteKind.Player)
shark.setPosition(100, scene.screenHeight() / 2)
shark.setStayInScreen(true)
info.setLife(3)
level = 1
projectilecount = false
game.onUpdate(function () {
    controller.moveSprite(shark)
})
game.onUpdate(function () {
    if (level == 3) {
        if (Boss.x < -5) {
            game.over(false)
        }
    }
})
game.onUpdateInterval(randint(10000, 15000), function () {
    if (level != 3) {
        seamine = sprites.create(img`
            . . . f f f . . . 
            . . f f f f f . . 
            . f 2 f f f 2 f . 
            f f f 2 f 2 f f f 
            f f f f 2 f f f f 
            f f f 2 f 2 f f f 
            . f 2 f f f 2 f . 
            . . f f f f f . . 
            . . . f f f . . . 
            `, SpriteKind.Enemy)
        if (randint(0, 1) == 0) {
            seamine.setPosition(-8, randint(15, 100))
            seamine.setVelocity(velocity2, 0)
        } else {
            seamine.setPosition(168, randint(15, 100))
            seamine.setVelocity(velocity1, 0)
        }
    } else {
        seamine.destroy()
    }
})
game.onUpdateInterval(2100, function () {
    if (level != 3) {
        if (randint(0, 1) == 0) {
            fish = sprites.create(img`
                . . . . c c c c . . . . . . . . 
                . . . c d d d d c c . . . . . . 
                . . . c d c c c c c c . . . . . 
                c c . c c d 4 4 4 4 c c . . . . 
                c 4 c c 1 4 4 4 4 4 d 4 c . . . 
                f 4 c 1 d 4 4 4 4 1 4 4 4 c . . 
                f 4 4 1 4 4 4 4 4 1 4 4 4 4 c . 
                f 4 f 1 4 4 f c 1 1 4 4 4 4 4 f 
                f 4 f 1 4 4 f 4 c 1 4 f 4 4 4 f 
                f f f d 4 4 f 4 4 1 4 4 4 4 4 f 
                . . f f d 4 4 c c 1 4 4 4 4 f . 
                . . . f c 4 4 4 4 4 d 4 f f . . 
                . . c b d c 4 4 4 4 f f . . . . 
                . . c d d d f f f f . . . . . . 
                . . . c c c . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                `, SpriteKind.Food)
            fish.setPosition(-10, randint(15, 100))
            fish.setVelocity(velocity2, 0)
        } else {
            fish = sprites.create(img`
                . . . . . . . . c c c c . . . . 
                . . . . . . c c d d d d c . . . 
                . . . . . c c c c c c d c . . . 
                . . . . c c 4 4 4 4 d c c . c c 
                . . . c 4 d 4 4 4 4 4 1 c c 4 c 
                . . c 4 4 4 1 4 4 4 4 d 1 c 4 f 
                . c 4 4 4 4 1 4 4 4 4 4 1 4 4 f 
                f 4 4 4 4 4 1 1 c f 4 4 1 f 4 f 
                f 4 4 4 f 4 1 c 4 f 4 4 1 f 4 f 
                f 4 4 4 4 4 1 4 4 f 4 4 d f f f 
                . f 4 4 4 4 1 c c 4 4 d f f . . 
                . . f f 4 d 4 4 4 4 4 c f . . . 
                . . . . f f 4 4 4 4 c d b c . . 
                . . . . . . f f f f d d d c . . 
                . . . . . . . . . . c c c . . . 
                . . . . . . . . . . . . . . . . 
                `, SpriteKind.Food)
            fish.setPosition(170, randint(15, 100))
            fish.setVelocity(velocity1, 0)
        }
    } else {
        fish.destroy()
    }
})
game.onUpdateInterval(2100, function () {
    if (level == 1) {
        velocity1 = -90
        velocity2 = 90
    }
})
game.onUpdateInterval(1250, function () {
    if (projectilecount) {
        projectile2 = sprites.createProjectileFromSprite(img`
            . . . f f f . . . 
            . . f f f f f . . 
            . f 2 f f f 2 f . 
            f f f 2 f 2 f f f 
            f f f f 2 f f f f 
            f f f 2 f 2 f f f 
            . f 2 f f f 2 f . 
            . . f f f f f . . 
            . . . f f f . . . 
            `, Boss, shark.x - Boss.x, shark.y - Boss.y)
        projectile2.setKind(SpriteKind.bomb2)
    }
})
game.onUpdateInterval(500, function () {
    shots = 0
})
